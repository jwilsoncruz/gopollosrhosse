<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Go Pollos Rhosse</title>

<style>
body{
margin:0;
font-family:Arial, sans-serif;
background:#0b1c2d;
color:white;
text-align:center;
}

.logo{
margin-top:20px;
}

.logo img{
width:120px;
}

.mesa-banner{
font-size:28px;
font-weight:bold;
background:#c79a2c;
color:#0b1c2d;
padding:12px;
margin:15px;
border-radius:12px;
display:none;
}

.stock{
margin:10px;
padding:10px;
background:#13293d;
border-radius:10px;
}

.card{
background:#13293d;
margin:20px auto;
width:90%;
max-width:350px;
border-radius:15px;
overflow:hidden;
box-shadow:0 4px 15px rgba(0,0,0,0.4);
}

.card img{
width:100%;
height:200px;
object-fit:cover;
}

.card-content{
padding:15px;
}

.price{
color:#ffb703;
font-weight:bold;
}

button{
padding:8px 15px;
margin:5px;
border:none;
border-radius:8px;
cursor:pointer;
}

.add{
background:#ffb703;
color:#000;
}

.remove{
background:#444;
color:white;
}

.cart{
position:fixed;
bottom:0;
left:0;
right:0;
background:#c79a2c;
color:#0b1c2d;
padding:15px;
font-weight:bold;
}

.admin-panel{
display:none;
margin:10px;
}

</style>
</head>
<body>

<div class="logo">
<img src="logo.png" alt="Go Pollos Rhosse">
</div>

<div id="mesaBanner" class="mesa-banner"></div>

<div class="stock">
üî• Disponibles: <span id="available">8</span> / 8
</div>

<div class="admin-panel" id="adminPanel">
<button onclick="adjustStock(-1)">-1</button>
<button onclick="adjustStock(1)">+1</button>
<button onclick="resetStock()">Reset</button>
</div>

<!-- PRODUCTOS -->

<div class="card">
<img src="completo.jpg">
<div class="card-content">
<h3>Completo</h3>
<p class="price">Bs 100</p>
<button class="add" onclick="addToCart('Completo',100,1)">Agregar</button>
<button class="remove" onclick="removeFromCart('Completo',1)">Eliminar</button>
</div>
</div>

<div class="card">
<img src="medio.jpg">
<div class="card-content">
<h3>Medio</h3>
<p class="price">Bs 59</p>
<button class="add" onclick="addToCart('Medio',59,0.5)">Agregar</button>
<button class="remove" onclick="removeFromCart('Medio',0.5)">Eliminar</button>
</div>
</div>

<div class="card">
<img src="cuarto.jpg">
<div class="card-content">
<h3>Cuarto</h3>
<p class="price">Bs 35</p>
<button class="add" onclick="addToCart('Cuarto',35,0.25)">Agregar</button>
<button class="remove" onclick="removeFromCart('Cuarto',0.25)">Eliminar</button>
</div>
</div>

<div class="cart" onclick="sendOrder()">
Enviar Pedido por WhatsApp
</div>

<script>

let stock = 8;
let carrito = {};
let total = 0;
let mesa = null;

// DETECTAR MESA
const params = new URLSearchParams(window.location.search);
if(params.get("mesa")){
mesa = params.get("mesa");
document.getElementById("mesaBanner").style.display="block";
document.getElementById("mesaBanner").innerHTML="üçΩ MESA " + mesa;
}

// ADMIN CON CLAVE
document.addEventListener("keydown",function(e){
if(e.key === "A"){
let clave = prompt("Clave Admin:");
if(clave === "rhosse2026"){
document.getElementById("adminPanel").style.display="block";
}
}
});

function addToCart(nombre,precio,fraccion){
if(stock - fraccion < 0){
alert("No hay suficiente stock");
return;
}

if(!carrito[nombre]){
carrito[nombre]={cantidad:0,precio:precio,fraccion:fraccion};
}
carrito[nombre].cantidad++;
stock -= fraccion;
total += precio;
update();
}

function removeFromCart(nombre,fraccion){
if(carrito[nombre] && carrito[nombre].cantidad>0){
carrito[nombre].cantidad--;
stock += fraccion;
total -= carrito[nombre].precio;
if(carrito[nombre].cantidad==0){
delete carrito[nombre];
}
update();
}
}

function update(){
document.getElementById("available").innerText = stock.toFixed(2);
}

function adjustStock(val){
stock += val;
if(stock<0) stock=0;
if(stock>8) stock=8;
update();
}

function resetStock(){
stock=8;
carrito={};
total=0;
update();
}

function sendOrder(){
if(Object.keys(carrito).length===0){
alert("Carrito vac√≠o");
return;
}

let mensaje="Pedido ‚Äì Go Pollos Rhosse%0A";

if(mesa){
mensaje+="Mesa "+mesa+"%0A%0A";
}

for(let item in carrito){
mensaje+=item+" x"+carrito[item].cantidad+"%0A";
}

mensaje+="%0ATotal Bs "+total;

let url="https://wa.me/59168972863?text="+mensaje;
window.open(url,"_blank");
}

</script>

</body>
</html>
